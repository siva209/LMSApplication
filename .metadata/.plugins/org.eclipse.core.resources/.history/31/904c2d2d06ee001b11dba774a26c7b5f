package com.bridgelabz.lms.controller;

public class StatusController {
	@Autowired(required = true)
	private LMSStatusService lmsStatusService;
	
	@GetMapping("/getstatus")
	public ResponseEntity<ResponseDto> getStatus() {
		ResponseDto respDTO = lmsStatusService.getStatus();
		return new ResponseEntity<ResponseDto>(respDTO, HttpStatus.OK);
	}
	
	@PostMapping("/addstatus/")
	public ResponseEntity<ResponseDto> addstatus(@RequestBody LMSStatusDTO lmsstatus)
			throws LMSExceptions {
		ResponseDto respDTO = lmsStatusService.addStatusDetail(lmsstatus);
		return new ResponseEntity<ResponseDto>(respDTO, HttpStatus.OK);
	}
	
	@PutMapping("/updatestatus")
	public ResponseEntity<ResponseDto> updatestatus(@Valid @RequestBody LMSStatusDTO lmsstatus)
			throws LMSExceptions {
		ResponseDto respDTO = lmsStatusService.updateStatus(lmsstatus);
		return new ResponseEntity<ResponseDto>(respDTO, HttpStatus.OK);
	}

	@DeleteMapping("/deletestatus")
	public ResponseEntity<ResponseDto> deletestatus(@PathVariable int id) throws LMSExceptions {
		lmsStatusService.deleteStatus(id);
		ResponseDto respDTO = new ResponseDto("Deleted Status",id);
		return new ResponseEntity<ResponseDto>(respDTO, HttpStatus.OK);
}
